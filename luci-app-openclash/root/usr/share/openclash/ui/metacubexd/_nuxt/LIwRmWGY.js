import{$ as e,C as t,Dt as n,E as r,Et as i,G as a,H as o,J as s,K as c,L as l,Mt as u,Ot as d,Q as f,R as p,V as m,W as h,Z as g,at as _,ct as v,dt as y,ht as b,j as x,kt as S,ot as C,pt as ee,q as w,rt as T,st as E,ut as D,x as O,yt as k}from"./CM_088kD.js";import{t as A}from"./_v7-ePgP.js";import{t as j}from"./Cdiy0J91.js";import{t as te}from"./BLuqy5mK.js";import{A as M,B as N,D as P,F as ne,J as F,K as I,M as re,N as L,P as R,T as ie,U as z,W as ae,_ as oe,a as se,b as ce,g as le,h as ue,o as de,q as fe,u as pe,v as me}from"./BJ759pwc.js";import{t as he}from"./D5dZ0BBA.js";import{n as ge,t as B}from"./BZwboPFT.js";import{t as _e}from"./DV8N7_8X.js";import{a as ve,d as ye,i as be,l as xe}from"./Dd7-kRkh.js";import{t as Se}from"./zUhTKjJS.js";var Ce=u(_e(),1),we={class:`relative h-full w-full`},Te={key:0,class:`absolute inset-0 flex items-center justify-center`},Ee=e({__name:`RealtimeLineChart`,props:{title:{},seriesConfig:{},isLoading:{type:Boolean,default:!1},initialData:{default:()=>[]},valueMode:{default:`bytes`}},emits:[`chartReady`],setup(e,{expose:t,emit:r}){let i=e,o=r,c=(e,t=!1)=>i.valueMode===`number`?String(e):t?`${B(e).toString()}/s`:B(e).toString(),l=k(),u,d=j();function f(){let e=xe();return{chart:{type:`areaspline`,animation:{duration:800,easing:`linear`},backgroundColor:e.backgroundColor},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:i.title,style:{color:e.textColor}},legend:{enabled:!0,itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{type:`datetime`,tickPixelInterval:100,labels:{style:{color:e.textColor},formatter(){let e=new Date(this.value);return`${e.getMinutes().toString().padStart(2,`0`)}:${e.getSeconds().toString().padStart(2,`0`)}`}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{title:{text:void 0},labels:{style:{color:e.textColor},formatter(){return c(this.value)}},gridLineColor:e.gridLineColor,min:0},tooltip:{shared:!0,formatter(){let e=new Date(this.x),t=`<b>${`${e.getMinutes().toString().padStart(2,`0`)}:${e.getSeconds().toString().padStart(2,`0`)}`}</b><br/>`;return this.points?.forEach(e=>{t+=`<span style="color:${e.color}">\u25CF</span> ${e.series.name}: <b>${c(e.y,!0)}</b><br/>`}),t}},plotOptions:{areaspline:{fillOpacity:.3,marker:{enabled:!1},lineWidth:2,states:{hover:{lineWidth:3}},threshold:null}},series:i.seriesConfig.map((t,n)=>({type:`areaspline`,name:t.name,color:t.color||e.seriesColors[n]||Ce.default.getOptions().colors?.[n]||`hsl(${n*120}, 70%, 50%)`,data:i.initialData?.[n]||[]}))}}let p={addPoint:(e,t,n)=>{if(u?.series[e]){let r=u.series[e].data.length>=10;u.series[e].addPoint([t,n],!0,r,{duration:800,easing:`linear`})}},addPoints:e=>{if(!u)return;let t=new Map;e.forEach(e=>{t.has(e.seriesIndex)||t.set(e.seriesIndex,[]),t.get(e.seriesIndex).push({time:e.time,value:e.value})}),t.forEach((e,t)=>{let n=u?.series[t];n&&e.forEach(e=>{let t=n.data.length>=10;n.addPoint([e.time,e.value],!1,t)})}),u.redraw({duration:800,easing:`linear`})},setSeriesData:(e,t)=>{u?.series[e]&&u.series[e].setData(t,!0,!1,!1)}};return t({chartRef:p}),_(()=>{if(!l.value)return;u=Ce.default.chart(l.value,f()),o(`chartReady`,p);let e=new ResizeObserver(()=>{u&&l.value&&u.setSize(l.value.clientWidth,l.value.clientHeight,!0)});e.observe(l.value),C(()=>{e.disconnect(),u?.destroy()})}),y(()=>i.title,e=>{u&&u.setTitle({text:e})}),y(()=>i.seriesConfig,e=>{u&&(e.forEach((e,t)=>{u.series[t]&&u.series[t].update({type:`areaspline`,name:e.name,color:e.color},!1)}),u.redraw())},{deep:!0}),y(()=>d.curTheme,()=>{requestAnimationFrame(()=>{if(u){let e=xe();u.update({chart:{backgroundColor:e.backgroundColor},title:{style:{color:e.textColor}},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{labels:{style:{color:e.textColor}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{labels:{style:{color:e.textColor}},gridLineColor:e.gridLineColor}},!0,!1,!1)}})}),(t,r)=>(E(),s(`div`,we,[e.isLoading?(E(),s(`div`,Te,[...r[0]||=[a(`span`,{class:`inline-block h-10 w-10 bg-base-content [mask-size:contain] [mask-position:center] [mask-repeat:no-repeat]`,style:{maskImage:`url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Ccircle cx=%274%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270%27/%3E%3C/circle%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.15s%27/%3E%3C/circle%3E%3Ccircle cx=%2720%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.3s%27/%3E%3C/circle%3E%3C/svg%3E')`,WebkitMaskImage:`url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27%3E%3Ccircle cx=%274%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270%27/%3E%3C/circle%3E%3Ccircle cx=%2712%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.15s%27/%3E%3C/circle%3E%3Ccircle cx=%2720%27 cy=%2712%27 r=%272%27 fill=%27currentColor%27%3E%3Canimate attributeName=%27opacity%27 dur=%270.75s%27 values=%271;0.5;1%27 repeatCount=%27indefinite%27 begin=%270.3s%27/%3E%3C/circle%3E%3C/svg%3E')`}},null,-1)]])):w(``,!0),a(`div`,{ref_key:`containerRef`,ref:l,class:n([`h-full w-full transition-opacity duration-200 ease-in-out`,{"opacity-0":e.isLoading}])},null,2)]))}}),De=Object.assign(Ee,{__name:`RealtimeLineChart`}),Oe=u(_e(),1),ke={class:`relative h-full w-full`},Ae={key:0,class:`absolute inset-0 flex items-center justify-center`},je=e({__name:`HighchartsAutoSize`,props:{options:{},isLoading:{type:Boolean,default:!1}},setup(e){let t=e,r=k(),i,o=j();function c(){let e=xe();return{chart:{animation:{duration:300},backgroundColor:e.backgroundColor},credits:{enabled:!1},accessibility:{enabled:!1},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},title:{style:{color:e.textColor}}}}return _(()=>{if(!r.value)return;let e=c(),n={...e,...t.options,chart:{...e.chart,...t.options.chart}};i=Oe.default.chart(r.value,n);let a=r.value.clientWidth,o=r.value.clientHeight,s=new ResizeObserver(()=>{if(i&&r.value){let e=r.value.clientWidth,t=r.value.clientHeight;(e!==a||t!==o)&&(a=e,o=t,i.setSize(e,t,!1))}});s.observe(r.value),C(()=>{s.disconnect(),i?.destroy()})}),y(()=>t.options,e=>{i&&i.update(e,!0,!1,!1)},{deep:!0}),y(()=>o.curTheme,()=>{requestAnimationFrame(()=>{if(i){let e=xe();i.update({chart:{backgroundColor:e.backgroundColor},title:{style:{color:e.textColor}},legend:{itemStyle:{color:e.textColor},itemHoverStyle:{color:e.textColorHover}},xAxis:{labels:{style:{color:e.textColor}},lineColor:e.lineColor,tickColor:e.tickColor},yAxis:{labels:{style:{color:e.textColor}},gridLineColor:e.gridLineColor}},!0,!1,!1)}})}),(t,i)=>(E(),s(`div`,ke,[e.isLoading?(E(),s(`div`,Ae,[...i[0]||=[a(`span`,{class:`inline-block size-10 bg-base-content [mask-image:url("data:image/svg+xml,%3Csvg_xmlns='http://www.w3.org/2000/svg'_viewBox='0_0_24_24'%3E%3Ccircle_cx='4'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0'/%3E%3C/circle%3E%3Ccircle_cx='12'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0.15s'/%3E%3C/circle%3E%3Ccircle_cx='20'_cy='12'_r='2'_fill='currentColor'%3E%3Canimate_attributeName='opacity'_dur='0.75s'_values='1;0.5;1'_repeatCount='indefinite'_begin='0.3s'/%3E%3C/circle%3E%3C/svg%3E")] [mask-size:contain] [mask-position:center] [mask-repeat:no-repeat]`},null,-1)]])):w(``,!0),a(`div`,{ref_key:`containerRef`,ref:r,class:n([`h-full w-full transition-opacity duration-200 ease-in-out`,{"opacity-0":e.isLoading}])},null,2)]))}}),Me=Object.assign(je,{__name:`HighchartsAutoSize`}),Ne={"ip.sb":`https://api.ip.sb/geoip`,"ipwho.is":`https://ipwho.is/`,"ipapi.is":`https://api.ipapi.is/`};function Pe(e){return{ip:e.ip,country:e.country,city:e.city,asn:e.asn,org:e.asn_organization}}function Fe(e){return{ip:e.ip,country:e.country,countryCode:e.country_code,city:e.city,region:e.region,asn:e.connection?.asn,org:e.connection?.org,isp:e.connection?.isp,latitude:e.latitude,longitude:e.longitude,timezone:e.timezone?.id}}function Ie(e){return{ip:e.ip,country:e.location?.country,countryCode:e.location?.country_code,city:e.location?.city,region:e.location?.state,asn:e.asn?.asn,org:e.asn?.org,isProxy:e.is_proxy,isVPN:e.is_vpn,latitude:e.location?.latitude,longitude:e.location?.longitude,timezone:e.location?.timezone}}async function Le(e){let t=Ne[e],n=await he.get(t,{timeout:1e4}).json();switch(e){case`ip.sb`:return Pe(n);case`ipwho.is`:return Fe(n);case`ipapi.is`:return Ie(n);default:throw Error(`Unknown IP provider: ${e}`)}}function Re(){let e=k(`ip.sb`),t=k(null),n=k(!1),r=k(null);async function i(i){let a=i??e.value;n.value=!0,r.value=null;try{t.value=await Le(a),e.value=a}catch(e){r.value=e instanceof Error?e.message:`Failed to fetch IP info`,t.value=null}finally{n.value=!1}}return{currentProvider:e,ipInfo:t,isLoading:n,error:r,fetchIP:i}}var ze={class:`rounded-xl border p-4 shadow-sm`,style:{background:`color-mix(in oklch, var(--color-base-200) 60%, transparent)`,"border-color":`color-mix(
        in oklch,
        var(--color-base-content) 10%,
        transparent
      )`,"box-shadow":`0 2px 8px
        color-mix(in oklch, var(--color-base-content) 5%, transparent)`}},Be={class:`mb-3.5 flex items-center justify-between gap-3`},Ve={class:`flex items-center gap-2`},He={class:`flex h-8 w-8 items-center justify-center rounded-lg text-primary`,style:{background:`color-mix(
              in oklch,
              var(--color-primary) 15%,
              transparent
            )`}},Ue={class:`m-0 text-[0.9375rem] font-semibold text-base-content`},We={class:`flex items-center gap-1.5`},Ge=[`value`],Ke=[`value`],qe=[`disabled`],Je={key:0,class:`flex justify-center py-6`},Ye={key:1,class:`rounded-lg p-3 text-[0.8125rem] text-error`,style:{background:`color-mix(in oklch, var(--color-error) 10%, transparent)`,border:`1px solid
          color-mix(in oklch, var(--color-error) 20%, transparent)`}},Xe={key:2,class:`flex flex-col gap-2.5`},Ze={class:`-mx-1 -mt-1 mb-1 flex items-center justify-between gap-3 rounded-lg px-2.5 py-2`,style:{background:`color-mix(in oklch, var(--color-primary) 8%, transparent)`,border:`1px solid
            color-mix(in oklch, var(--color-primary) 15%, transparent)`}},Qe={class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},$e=[`title`],et={key:0,class:`flex items-center justify-between gap-3`},tt={class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},nt={class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`},rt={key:1,class:`flex items-center justify-between gap-3`},it={class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},at={class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`},ot={key:2,class:`flex items-center justify-between gap-3`},st={class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},ct=[`title`],lt={key:3,class:`flex items-center justify-between gap-3`},ut={class:`overflow-hidden text-right font-mono text-[0.8125rem] font-semibold text-ellipsis whitespace-nowrap text-base-content`},dt={key:4,class:`flex items-center justify-between gap-3`},ft=[`title`],pt={key:5,class:`flex items-center justify-between gap-3`},mt={class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},ht={class:`flex gap-1`},gt={key:0,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-warning uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-warning) 15%,
                transparent
              )`}},_t={key:1,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-warning uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-warning) 15%,
                transparent
              )`}},vt={key:2,class:`inline-flex items-center rounded-full px-2 py-0.5 text-[0.6875rem] font-semibold tracking-wide text-success uppercase`,style:{background:`color-mix(
                in oklch,
                var(--color-success) 15%,
                transparent
              )`}},yt={key:3,class:`py-6 text-center text-sm`,style:{color:`color-mix(in oklch, var(--color-base-content) 50%, transparent)`}},bt=e({__name:`IPInfoCard`,setup(e){let{t}=O(),{currentProvider:r,ipInfo:c,isLoading:l,error:u,fetchIP:d}=Re(),p=[{value:`ip.sb`,label:`IP.SB`},{value:`ipwho.is`,label:`ipwho.is`},{value:`ipapi.is`,label:`ipapi.is`}];_(()=>{d()});function m(e){let t=e.target;d(t.value)}return(e,h)=>(E(),s(`div`,ze,[a(`div`,Be,[a(`div`,Ve,[a(`div`,He,[f(i(se),{size:18})]),a(`h3`,Ue,S(i(t)(`currentIP`)),1)]),a(`div`,We,[a(`select`,{value:i(r),class:`cursor-pointer appearance-none rounded-md bg-base-100 py-1.5 pr-6 pl-2.5 text-xs text-base-content transition-all duration-200 focus:border-primary focus:outline-none`,style:{border:`1px solid
              color-mix(in oklch, var(--color-base-content) 10%, transparent)`,"background-image":`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`,"background-repeat":`no-repeat`,"background-position":`right 0.375rem center`},onChange:m},[(E(),s(o,null,v(p,e=>a(`option`,{key:e.value,value:e.value},S(e.label),9,Ke)),64))],40,Ge),a(`button`,{class:n([`flex h-7 w-7 cursor-pointer items-center justify-center rounded-md bg-transparent transition-all duration-200 hover:bg-base-300 hover:text-base-content disabled:cursor-not-allowed disabled:opacity-50`,{"animate-spin":i(l)}]),disabled:i(l),style:{border:`1px solid
              color-mix(in oklch, var(--color-base-content) 10%, transparent)`,color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`},onClick:h[0]||=e=>i(d)()},[f(i(ue),{size:16})],10,qe)])]),i(l)?(E(),s(`div`,Je,[...h[1]||=[a(`span`,{class:`h-6 w-6 animate-spin rounded-full`,style:{border:`2px solid
            color-mix(in oklch, var(--color-base-content) 10%, transparent)`,"border-top-color":`var(--color-primary)`}},null,-1)]])):i(u)?(E(),s(`div`,Ye,[a(`span`,null,S(i(u)),1)])):i(c)?(E(),s(`div`,Xe,[a(`div`,Ze,[a(`span`,Qe,S(i(t)(`ipAddress`)),1),a(`span`,{class:`overflow-hidden text-right font-mono text-[0.8125rem] font-semibold text-ellipsis whitespace-nowrap text-primary`,title:i(c).ip},S(i(c).ip),9,$e)]),i(c).country?(E(),s(`div`,et,[a(`span`,tt,S(i(t)(`country`)),1),a(`span`,nt,S(i(c).country),1)])):w(``,!0),i(c).city?(E(),s(`div`,rt,[a(`span`,it,S(i(t)(`city`)),1),a(`span`,at,S(i(c).city),1)])):w(``,!0),i(c).org?(E(),s(`div`,ot,[a(`span`,st,S(i(t)(`organization`)),1),a(`span`,{class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`,title:i(c).org},S(i(c).org),9,ct)])):w(``,!0),i(c).asn?(E(),s(`div`,lt,[h[2]||=a(`span`,{class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},` ASN `,-1),a(`span`,ut,` AS`+S(i(c).asn),1)])):w(``,!0),i(c).isp?(E(),s(`div`,dt,[h[3]||=a(`span`,{class:`shrink-0 text-[0.8125rem]`,style:{color:`color-mix(
              in oklch,
              var(--color-base-content) 60%,
              transparent
            )`}},` ISP `,-1),a(`span`,{class:`overflow-hidden text-right text-[0.8125rem] font-medium text-ellipsis whitespace-nowrap text-base-content`,title:i(c).isp},S(i(c).isp),9,ft)])):w(``,!0),i(c).isProxy!==void 0||i(c).isVPN!==void 0?(E(),s(`div`,pt,[a(`span`,mt,S(i(t)(`proxyDetection`)),1),a(`div`,ht,[i(c).isProxy?(E(),s(`span`,gt,` Proxy `)):w(``,!0),i(c).isVPN?(E(),s(`span`,_t,` VPN `)):w(``,!0),!i(c).isProxy&&!i(c).isVPN?(E(),s(`span`,vt,S(i(t)(`clean`)),1)):w(``,!0)])])):w(``,!0)])):(E(),s(`div`,yt,S(i(t)(`noData`)),1))]))}}),xt=Object.assign(bt,{__name:`IPInfoCard`}),St=[{name:`Google`,url:`https://www.google.com/generate_204`},{name:`Cloudflare`,url:`https://www.cloudflare.com/cdn-cgi/trace`},{name:`GitHub`,url:`https://github.com`}];async function Ct(e){try{let t=performance.now();await fetch(e,{method:`HEAD`,mode:`no-cors`,cache:`no-store`});let n=performance.now();return Math.round(n-t)}catch{return null}}function wt(){let e=k(new Map),t=k(!1),n=k(St);async function r(t,n){e.value.set(n,{url:n,latency:null,status:`pending`,timestamp:Date.now()});let r=await Ct(n);return e.value.set(n,{url:n,latency:r,status:r===null?`error`:`success`,timestamp:Date.now()}),r}async function i(){t.value=!0;let e=n.value.map(e=>r(e.name,e.url));await Promise.all(e),t.value=!1}function a(t){return e.value.get(t)}return{results:e,isTestingAll:t,targets:n,testLatency:r,testAllLatencies:i,getResult:a,allResults:h(()=>n.value.map(t=>({name:t.name,url:t.url,result:e.value.get(t.url)}))),averageLatency:h(()=>{let t=Array.from(e.value.values()).filter(e=>e.status===`success`&&e.latency!==null);if(t.length===0)return null;let n=t.reduce((e,t)=>e+(t.latency??0),0);return Math.round(n/t.length)})}}var Tt={class:`rounded-xl border border-base-content/10 p-4`,style:{background:`color-mix(in oklch, var(--color-base-200) 60%, transparent)`}},Et={class:`mb-3 flex items-center justify-between gap-2`},Dt={class:`flex items-center gap-2`},Ot={class:`m-0 text-base font-semibold text-base-content`},kt={class:`flex items-center gap-2`},At=[`disabled`],jt={class:`flex flex-col gap-3`},Mt={class:`w-20 shrink-0 overflow-hidden text-sm text-ellipsis whitespace-nowrap text-base-content`},Nt={class:`h-2 flex-1 overflow-hidden rounded-full bg-base-content/10`},Pt={class:`w-16 shrink-0 text-right font-mono text-sm text-base-content`},Ft={key:0,class:`inline-block h-3 w-3 animate-spin rounded-full border-2 border-base-content/20 border-t-primary`},It={key:1},Lt={key:2,class:`text-error`},Rt={key:3,class:`text-base-content/40`},zt=e({__name:`LatencyCard`,setup(e){let{t}=O(),{allResults:r,isTestingAll:c,testAllLatencies:l,averageLatency:u}=wt();_(()=>{l()});function p(e){return e==null?`bg-base-content/10 text-base-content/50`:e<100?`bg-success/15 text-success`:e<300?`bg-warning/15 text-warning`:`bg-error/15 text-error`}function m(e){return e==null?`0%`:`${Math.min(e/500*100,100)}%`}function h(e){return e==null?`bg-base-content/20`:e<100?`bg-success`:e<300?`bg-warning`:`bg-error`}return(e,g)=>(E(),s(`div`,Tt,[a(`div`,Et,[a(`div`,Dt,[f(i(F),{class:`h-5 w-5 text-primary`}),a(`h3`,Ot,S(i(t)(`networkLatency`)),1)]),a(`div`,kt,[i(u)===null?w(``,!0):(E(),s(`span`,{key:0,class:n([`rounded-md px-2 py-1 text-xs font-semibold`,p(i(u))])},S(i(t)(`average`))+`: `+S(i(u))+`ms `,3)),a(`button`,{class:n([`flex h-7 w-7 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content/60 transition-all duration-200 hover:bg-base-content/10 hover:text-base-content disabled:cursor-not-allowed disabled:opacity-50`,{"animate-spin":i(c)}]),disabled:i(c),onClick:g[0]||=(...e)=>i(l)&&i(l)(...e)},[f(i(ue),{class:`h-4 w-4`})],10,At)])]),a(`div`,jt,[(E(!0),s(o,null,v(i(r),e=>(E(),s(`div`,{key:e.url,class:`flex items-center gap-3`},[a(`span`,Mt,S(e.name),1),a(`div`,Nt,[a(`div`,{class:n([`h-full rounded-full transition-[width] duration-500 ease-out`,h(e.result?.latency)]),style:d({width:m(e.result?.latency)})},null,6)]),a(`span`,Pt,[e.result?.status===`pending`?(E(),s(`span`,Ft)):e.result?.status===`success`?(E(),s(`span`,It,S(e.result.latency)+`ms `,1)):e.result?.status===`error`?(E(),s(`span`,Lt,S(i(t)(`timeout`)),1)):(E(),s(`span`,Rt,`-`))])]))),128))])]))}}),Bt=Object.assign(zt,{__name:`LatencyCard`}),Vt={value:()=>{}};function Ht(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new Ut(n)}function Ut(e){this._=e}function Wt(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}Ut.prototype=Ht.prototype={constructor:Ut,on:function(e,t){var n=this._,r=Wt(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Gt(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=Kt(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Kt(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ut(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Gt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Kt(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Vt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var qt=Ht,Jt={svg:`http://www.w3.org/2000/svg`,xhtml:`http://www.w3.org/1999/xhtml`,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};function Yt(e){var t=e+=``,n=t.indexOf(`:`);return n>=0&&(t=e.slice(0,n))!==`xmlns`&&(e=e.slice(n+1)),Jt.hasOwnProperty(t)?{space:Jt[t],local:e}:e}function Xt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===`http://www.w3.org/1999/xhtml`&&t.documentElement.namespaceURI===`http://www.w3.org/1999/xhtml`?t.createElement(e):t.createElementNS(n,e)}}function Zt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qt(e){var t=Yt(e);return(t.local?Zt:Xt)(t)}function $t(){}function en(e){return e==null?$t:function(){return this.querySelector(e)}}function tn(e){typeof e!=`function`&&(e=en(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=Array(o),c,l,u=0;u<o;++u)(c=a[u])&&(l=e.call(c,c.__data__,u,a))&&(`__data__`in c&&(l.__data__=c.__data__),s[u]=l);return new H(r,this._parents)}function nn(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rn(){return[]}function an(e){return e==null?rn:function(){return this.querySelectorAll(e)}}function on(e){return function(){return nn(e.apply(this,arguments))}}function sn(e){e=typeof e==`function`?on(e):an(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&(r.push(e.call(c,c.__data__,l,o)),i.push(c));return new H(r,i)}function cn(e){return function(){return this.matches(e)}}function ln(e){return function(t){return t.matches(e)}}var un=Array.prototype.find;function dn(e){return function(){return un.call(this.children,e)}}function fn(){return this.firstElementChild}function pn(e){return this.select(e==null?fn:dn(typeof e==`function`?e:ln(e)))}var mn=Array.prototype.filter;function hn(){return Array.from(this.children)}function gn(e){return function(){return mn.call(this.children,e)}}function _n(e){return this.selectAll(e==null?hn:gn(typeof e==`function`?e:ln(e)))}function vn(e){typeof e!=`function`&&(e=cn(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new H(r,this._parents)}function yn(e){return Array(e.length)}function bn(){return new H(this._enter||this._groups.map(yn),this._parents)}function xn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}xn.prototype={constructor:xn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sn(e){return function(){return e}}function Cn(e,t,n,r,i,a){for(var o=0,s,c=t.length,l=a.length;o<l;++o)(s=t[o])?(s.__data__=a[o],r[o]=s):n[o]=new xn(e,a[o]);for(;o<c;++o)(s=t[o])&&(i[o]=s)}function wn(e,t,n,r,i,a,o){var s,c,l=new Map,u=t.length,d=a.length,f=Array(u),p;for(s=0;s<u;++s)(c=t[s])&&(f[s]=p=o.call(c,c.__data__,s,t)+``,l.has(p)?i[s]=c:l.set(p,c));for(s=0;s<d;++s)p=o.call(e,a[s],s,a)+``,(c=l.get(p))?(r[s]=c,c.__data__=a[s],l.delete(p)):n[s]=new xn(e,a[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function Tn(e){return e.__data__}function En(e,t){if(!arguments.length)return Array.from(this,Tn);var n=t?wn:Cn,r=this._parents,i=this._groups;typeof e!=`function`&&(e=Sn(e));for(var a=i.length,o=Array(a),s=Array(a),c=Array(a),l=0;l<a;++l){var u=r[l],d=i[l],f=d.length,p=Dn(e.call(u,u&&u.__data__,l,r)),m=p.length,h=s[l]=Array(m),g=o[l]=Array(m);n(u,d,h,g,c[l]=Array(f),p,t);for(var _=0,v=0,y,b;_<m;++_)if(y=h[_]){for(_>=v&&(v=_+1);!(b=g[v])&&++v<m;);y._next=b||null}}return o=new H(o,r),o._enter=s,o._exit=c,o}function Dn(e){return typeof e==`object`&&`length`in e?e:Array.from(e)}function On(){return new H(this._exit||this._groups.map(yn),this._parents)}function kn(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e==`function`?(r=e(r),r&&=r.selection()):r=r.append(e+``),t!=null&&(i=t(i),i&&=i.selection()),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function An(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),s=Array(i),c=0;c<o;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=Array(d),p,m=0;m<d;++m)(p=l[m]||u[m])&&(f[m]=p);for(;c<i;++c)s[c]=n[c];return new H(s,this._parents)}function jn(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Mn(e){e||=Nn;function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,c=i[a]=Array(s),l,u=0;u<s;++u)(l=o[u])&&(c[u]=l);c.sort(t)}return new H(i,this._parents).order()}function Nn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Pn(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Fn(){return Array.from(this)}function In(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ln(){let e=0;for(let t of this)++e;return e}function Rn(){return!this.node()}function zn(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&e.call(s,s.__data__,a,i);return this}function Bn(e){return function(){this.removeAttribute(e)}}function Vn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hn(e,t){return function(){this.setAttribute(e,t)}}function Un(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Gn(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Kn(e,t){var n=Yt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Vn:Bn:typeof t==`function`?n.local?Gn:Wn:n.local?Un:Hn)(n,t))}function qn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Jn(e){return function(){this.style.removeProperty(e)}}function Yn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xn(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Zn(e,t,n){return arguments.length>1?this.each((t==null?Jn:typeof t==`function`?Xn:Yn)(e,t,n??``)):V(this.node(),e)}function V(e,t){return e.style.getPropertyValue(t)||qn(e).getComputedStyle(e,null).getPropertyValue(t)}function Qn(e){return function(){delete this[e]}}function $n(e,t){return function(){this[e]=t}}function er(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function tr(e,t){return arguments.length>1?this.each((t==null?Qn:typeof t==`function`?er:$n)(e,t)):this.node()[e]}function nr(e){return e.trim().split(/^|\s+/)}function rr(e){return e.classList||new ir(e)}function ir(e){this._node=e,this._names=nr(e.getAttribute(`class`)||``)}ir.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(`class`,this._names.join(` `)))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(`class`,this._names.join(` `)))},contains:function(e){return this._names.indexOf(e)>=0}};function ar(e,t){for(var n=rr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function or(e,t){for(var n=rr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function sr(e){return function(){ar(this,e)}}function cr(e){return function(){or(this,e)}}function lr(e,t){return function(){(t.apply(this,arguments)?ar:or)(this,e)}}function ur(e,t){var n=nr(e+``);if(arguments.length<2){for(var r=rr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t==`function`?lr:t?sr:cr)(n,t))}function dr(){this.textContent=``}function fr(e){return function(){this.textContent=e}}function pr(e){return function(){this.textContent=e.apply(this,arguments)??``}}function mr(e){return arguments.length?this.each(e==null?dr:(typeof e==`function`?pr:fr)(e)):this.node().textContent}function hr(){this.innerHTML=``}function gr(e){return function(){this.innerHTML=e}}function _r(e){return function(){this.innerHTML=e.apply(this,arguments)??``}}function vr(e){return arguments.length?this.each(e==null?hr:(typeof e==`function`?_r:gr)(e)):this.node().innerHTML}function yr(){this.nextSibling&&this.parentNode.appendChild(this)}function br(){return this.each(yr)}function xr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sr(){return this.each(xr)}function Cr(e){var t=typeof e==`function`?e:Qt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wr(){return null}function Tr(e,t){var n=typeof e==`function`?e:Qt(e),r=t==null?wr:typeof t==`function`?t:en(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Er(){var e=this.parentNode;e&&e.removeChild(this)}function Dr(){return this.each(Er)}function Or(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ar(e){return this.select(e?kr:Or)}function jr(e){return arguments.length?this.property(`__data__`,e):this.node().__data__}function Mr(e){return function(t){e.call(this,t,this.__data__)}}function Nr(e){return e.trim().split(/^|\s+/).map(function(e){var t=``,n=e.indexOf(`.`);return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Pr(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Fr(e,t,n){return function(){var r=this.__on,i,a=Mr(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Ir(e,t,n){var r=Nr(e+``),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?Fr:Pr,i=0;i<a;++i)this.each(s(r[i],t,n));return this}function Lr(e,t,n){var r=qn(e),i=r.CustomEvent;typeof i==`function`?i=new i(t,n):(i=r.document.createEvent(`Event`),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Rr(e,t){return function(){return Lr(this,e,t)}}function zr(e,t){return function(){return Lr(this,e,t.apply(this,arguments))}}function Br(e,t){return this.each((typeof t==`function`?zr:Rr)(e,t))}function*Vr(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Hr=[null];function H(e,t){this._groups=e,this._parents=t}function Ur(){return new H([[document.documentElement]],Hr)}function Wr(){return this}H.prototype=Ur.prototype={constructor:H,select:tn,selectAll:sn,selectChild:pn,selectChildren:_n,filter:vn,data:En,enter:bn,exit:On,join:kn,merge:An,selection:Wr,order:jn,sort:Mn,call:Pn,nodes:Fn,node:In,size:Ln,empty:Rn,each:zn,attr:Kn,style:Zn,property:tr,classed:ur,text:mr,html:vr,raise:br,lower:Sr,append:Cr,insert:Tr,remove:Dr,clone:Ar,datum:jr,on:Ir,dispatch:Br,[Symbol.iterator]:Vr};var Gr=Ur;function Kr(e){return typeof e==`string`?new H([[document.querySelector(e)]],[document.documentElement]):new H([[e]],Hr)}function qr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Jr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yr(){}var Xr=.7,Zr=1/Xr,U=`\\s*([+-]?\\d+)\\s*`,Qr=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,W=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,$r=/^#([0-9a-f]{3,8})$/,ei=RegExp(`^rgb\\(${U},${U},${U}\\)$`),ti=RegExp(`^rgb\\(${W},${W},${W}\\)$`),ni=RegExp(`^rgba\\(${U},${U},${U},${Qr}\\)$`),ri=RegExp(`^rgba\\(${W},${W},${W},${Qr}\\)$`),ii=RegExp(`^hsl\\(${Qr},${W},${W}\\)$`),ai=RegExp(`^hsla\\(${Qr},${W},${W},${Qr}\\)$`),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qr(Yr,di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:si,formatHex:si,formatHex8:ci,formatHsl:li,formatRgb:ui,toString:ui});function si(){return this.rgb().formatHex()}function ci(){return this.rgb().formatHex8()}function li(){return xi(this).formatHsl()}function ui(){return this.rgb().formatRgb()}function di(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=$r.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fi(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ei.exec(e))?new G(t[1],t[2],t[3],1):(t=ti.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ni.exec(e))?pi(t[1],t[2],t[3],t[4]):(t=ri.exec(e))?pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ii.exec(e))?bi(t[1],t[2]/100,t[3]/100,1):(t=ai.exec(e))?bi(t[1],t[2]/100,t[3]/100,t[4]):oi.hasOwnProperty(e)?fi(oi[e]):e===`transparent`?new G(NaN,NaN,NaN,0):null}function fi(e){return new G(e>>16&255,e>>8&255,e&255,1)}function pi(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function mi(e){return e instanceof Yr||(e=di(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function hi(e,t,n,r){return arguments.length===1?mi(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qr(G,hi,Jr(Yr,{brighter(e){return e=e==null?Zr:Zr**+e,new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xr:Xr**+e,new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(K(this.r),K(this.g),K(this.b),yi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gi,formatHex:gi,formatHex8:_i,formatRgb:vi,toString:vi}));function gi(){return`#${q(this.r)}${q(this.g)}${q(this.b)}`}function _i(){return`#${q(this.r)}${q(this.g)}${q(this.b)}${q((isNaN(this.opacity)?1:this.opacity)*255)}`}function vi(){let e=yi(this.opacity);return`${e===1?`rgb(`:`rgba(`}${K(this.r)}, ${K(this.g)}, ${K(this.b)}${e===1?`)`:`, ${e})`}`}function yi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function K(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function q(e){return e=K(e),(e<16?`0`:``)+e.toString(16)}function bi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new J(e,t,n,r)}function xi(e){if(e instanceof J)return new J(e.h,e.s,e.l,e.opacity);if(e instanceof Yr||(e=di(e)),!e)return new J;if(e instanceof J)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,c=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new J(o,s,c,e.opacity)}function Si(e,t,n,r){return arguments.length===1?xi(e):new J(e,t,n,r??1)}function J(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qr(J,Si,Jr(Yr,{brighter(e){return e=e==null?Zr:Zr**+e,new J(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xr:Xr**+e,new J(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(Ti(e>=240?e-240:e+120,i,r),Ti(e,i,r),Ti(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new J(Ci(this.h),wi(this.s),wi(this.l),yi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=yi(this.opacity);return`${e===1?`hsl(`:`hsla(`}${Ci(this.h)}, ${wi(this.s)*100}%, ${wi(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function Ci(e){return e=(e||0)%360,e<0?e+360:e}function wi(e){return Math.max(0,Math.min(1,e||0))}function Ti(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Ei=e=>()=>e;function Di(e,t){return function(n){return e+n*t}}function Oi(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function ki(e){return(e=+e)==1?Ai:function(t,n){return n-t?Oi(t,n,e):Ei(isNaN(t)?n:t)}}function Ai(e,t){var n=t-e;return n?Di(e,n):Ei(isNaN(e)?t:e)}var ji=(function e(t){var n=ki(t);function r(e,t){var r=n((e=hi(e)).r,(t=hi(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Ai(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function Y(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ni=new RegExp(Mi.source,`g`);function Pi(e){return function(){return e}}function Fi(e){return function(t){return e(t)+``}}function Ii(e,t){var n=Mi.lastIndex=Ni.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=Mi.exec(e))&&(i=Ni.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Y(r,i)})),n=Ni.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?Fi(c[0].x):Pi(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}var Li=180/Math.PI,Ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zi(e,t,n,r,i,a){var o,s,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Li,skewX:Math.atan(c)*Li,scaleX:o,scaleY:s}}var Bi;function Vi(e){let t=new(typeof DOMMatrix==`function`?DOMMatrix:WebKitCSSMatrix)(e+``);return t.isIdentity?Ri:zi(t.a,t.b,t.c,t.d,t.e,t.f)}function Hi(e){return e==null||(Bi||=document.createElementNS(`http://www.w3.org/2000/svg`,`g`),Bi.setAttribute(`transform`,e),!(e=Bi.transform.baseVal.consolidate()))?Ri:(e=e.matrix,zi(e.a,e.b,e.c,e.d,e.e,e.f))}function Ui(e,t,n,r){function i(e){return e.length?e.pop()+` `:``}function a(e,r,i,a,o,s){if(e!==i||r!==a){var c=o.push(`translate(`,null,t,null,n);s.push({i:c-4,x:Y(e,i)},{i:c-2,x:Y(r,a)})}else (i||a)&&o.push(`translate(`+i+t+a+n)}function o(e,t,n,a){e===t?t&&n.push(i(n)+`rotate(`+t+r):(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+`rotate(`,null,r)-2,x:Y(e,t)}))}function s(e,t,n,a){e===t?t&&n.push(i(n)+`skewX(`+t+r):a.push({i:n.push(i(n)+`skewX(`,null,r)-2,x:Y(e,t)})}function c(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+`scale(`,null,`,`,null,`)`);o.push({i:s-4,x:Y(e,n)},{i:s-2,x:Y(t,r)})}else (n!==1||r!==1)&&a.push(i(a)+`scale(`+n+`,`+r+`)`)}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),c(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t=-1,n=i.length,a;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join(``)}}}var Wi=Ui(Vi,`px, `,`px)`,`deg)`),Gi=Ui(Hi,`, `,`)`,`)`),Ki=0,qi=0,Ji=0,Yi=1e3,Xi,Zi,Qi=0,$i=0,ea=0,ta=typeof performance==`object`&&performance.now?performance:Date,na=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ra(){return $i||=(na(ia),ta.now()+ea)}function ia(){$i=0}function aa(){this._call=this._time=this._next=null}aa.prototype=oa.prototype={constructor:aa,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?ra():+n)+(t==null?0:+t),!this._next&&Zi!==this&&(Zi?Zi._next=this:Xi=this,Zi=this),this._call=e,this._time=n,da()},stop:function(){this._call&&(this._call=null,this._time=1/0,da())}};function oa(e,t,n){var r=new aa;return r.restart(e,t,n),r}function sa(){ra(),++Ki;for(var e=Xi,t;e;)(t=$i-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ki}function ca(){$i=(Qi=ta.now())+ea,Ki=qi=0;try{sa()}finally{Ki=0,ua(),$i=0}}function la(){var e=ta.now(),t=e-Qi;t>Yi&&(ea-=t,Qi=e)}function ua(){for(var e,t=Xi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xi=n);Zi=e,da(r)}function da(e){Ki||(qi&&=clearTimeout(qi),e-$i>24?(e<1/0&&(qi=setTimeout(ca,e-ta.now()-ea)),Ji&&=clearInterval(Ji)):(Ji||=(Qi=ta.now(),setInterval(la,Yi)),Ki=1,na(ca)))}function fa(e,t,n){var r=new aa;return t=t==null?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}var pa=qt(`start`,`end`,`cancel`,`interrupt`),ma=[];function ha(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;_a(e,n,{name:t,index:r,group:i,on:pa,tween:ma,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ga(e,t){var n=Z(e,t);if(n.state>0)throw Error(`too late; already scheduled`);return n}function X(e,t){var n=Z(e,t);if(n.state>3)throw Error(`too late; already running`);return n}function Z(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error(`transition not found`);return n}function _a(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=oa(a,0,n.time);function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,u,d,f;if(n.state!==1)return c();for(l in r)if(f=r[l],f.name===n.name){if(f.state===3)return fa(o);f.state===4?(f.state=6,f.timer.stop(),f.on.call(`interrupt`,e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call(`cancel`,e,e.__data__,f.index,f.group),delete r[l])}if(fa(function(){n.state===3&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=2,n.on.call(`start`,e,e.__data__,n.index,n.group),n.state===2){for(n.state=3,i=Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);n.state===5&&(n.on.call(`end`,e,e.__data__,n.index,n.group),c())}function c(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}}function va(e,t){var n=e.__transition,r,i,a=!0,o;if(n){for(o in t=t==null?null:t+``,n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?`interrupt`:`cancel`,e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function ya(e){return this.each(function(){va(this,e)})}function ba(e,t){var n,r;return function(){var i=X(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function xa(e,t,n){var r,i;if(typeof n!=`function`)throw Error();return function(){var a=X(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}a.tween=i}}function Sa(e,t){var n=this._id;if(e+=``,arguments.length<2){for(var r=Z(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?ba:xa)(n,e,t))}function Ca(e,t,n){var r=e._id;return e.each(function(){var e=X(this,r);(e.value||={})[t]=n.apply(this,arguments)}),function(e){return Z(e,r).value[t]}}function wa(e,t){var n;return(typeof t==`number`?Y:t instanceof di?ji:(n=di(t))?(t=n,ji):Ii)(e,t)}function Ta(e){return function(){this.removeAttribute(e)}}function Ea(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Da(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Oa(e,t,n){var r,i=n+``,a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function ka(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function Aa(e,t,n){var r,i,a;return function(){var o,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=s+``,o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s)))}}function ja(e,t){var n=Yt(e),r=n===`transform`?Gi:wa;return this.attrTween(e,typeof t==`function`?(n.local?Aa:ka)(n,r,Ca(this,`attr.`+e,t)):t==null?(n.local?Ea:Ta)(n):(n.local?Oa:Da)(n,r,t))}function Ma(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Na(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Pa(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Na(e,i)),n}return i._value=t,i}function Fa(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ma(e,i)),n}return i._value=t,i}function Ia(e,t){var n=`attr.`+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!=`function`)throw Error();var r=Yt(e);return this.tween(n,(r.local?Pa:Fa)(r,t))}function La(e,t){return function(){ga(this,e).delay=+t.apply(this,arguments)}}function Ra(e,t){return t=+t,function(){ga(this,e).delay=t}}function za(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?La:Ra)(t,e)):Z(this.node(),t).delay}function Ba(e,t){return function(){X(this,e).duration=+t.apply(this,arguments)}}function Va(e,t){return t=+t,function(){X(this,e).duration=t}}function Ha(e){var t=this._id;return arguments.length?this.each((typeof e==`function`?Ba:Va)(t,e)):Z(this.node(),t).duration}function Ua(e,t){if(typeof t!=`function`)throw Error();return function(){X(this,e).ease=t}}function Wa(e){var t=this._id;return arguments.length?this.each(Ua(t,e)):Z(this.node(),t).ease}function Ga(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!=`function`)throw Error();X(this,e).ease=n}}function Ka(e){if(typeof e!=`function`)throw Error();return this.each(Ga(this._id,e))}function qa(e){typeof e!=`function`&&(e=cn(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,s=r[i]=[],c,l=0;l<o;++l)(c=a[l])&&e.call(c,c.__data__,l,a)&&s.push(c);return new Q(r,this._parents,this._name,this._id)}function Ja(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=Array(r),s=0;s<a;++s)for(var c=t[s],l=n[s],u=c.length,d=o[s]=Array(u),f,p=0;p<u;++p)(f=c[p]||l[p])&&(d[p]=f);for(;s<r;++s)o[s]=t[s];return new Q(o,this._parents,this._name,this._id)}function Ya(e){return(e+``).trim().split(/^|\s+/).every(function(e){var t=e.indexOf(`.`);return t>=0&&(e=e.slice(0,t)),!e||e===`start`})}function Xa(e,t,n){var r,i,a=Ya(t)?ga:X;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function Za(e,t){var n=this._id;return arguments.length<2?Z(this.node(),n).on.on(e):this.each(Xa(n,e,t))}function Qa(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $a(){return this.on(`end.remove`,Qa(this._id))}function eo(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=en(e));for(var r=this._groups,i=r.length,a=Array(i),o=0;o<i;++o)for(var s=r[o],c=s.length,l=a[o]=Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&(`__data__`in u&&(d.__data__=u.__data__),l[f]=d,ha(l[f],t,n,f,l,Z(u,n)));return new Q(a,this._parents,t,n)}function to(e){var t=this._name,n=this._id;typeof e!=`function`&&(e=an(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),p,m=Z(u,n),h=0,g=f.length;h<g;++h)(p=f[h])&&ha(p,t,n,h,f,m);a.push(f),o.push(u)}return new Q(a,o,t,n)}var no=Gr.prototype.constructor;function ro(){return new no(this._groups,this._parents)}function io(e,t){var n,r,i;return function(){var a=V(this,e),o=(this.style.removeProperty(e),V(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function ao(e){return function(){this.style.removeProperty(e)}}function oo(e,t,n){var r,i=n+``,a;return function(){var o=V(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function so(e,t,n){var r,i,a;return function(){var o=V(this,e),s=n(this),c=s+``;return s??(c=s=(this.style.removeProperty(e),V(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,s))}}function co(e,t){var n,r,i,a=`style.`+t,o=`end.`+a,s;return function(){var c=X(this,e),l=c.on,u=c.value[a]==null?s||=ao(t):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(o,i=u),c.on=r}}function lo(e,t,n){var r=(e+=``)==`transform`?Wi:wa;return t==null?this.styleTween(e,io(e,r)).on(`end.style.`+e,ao(e)):typeof t==`function`?this.styleTween(e,so(e,r,Ca(this,`style.`+e,t))).each(co(this._id,e)):this.styleTween(e,oo(e,r,t),n).on(`end.style.`+e,null)}function uo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fo(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&uo(e,a,n)),r}return a._value=t,a}function po(e,t,n){var r=`style.`+(e+=``);if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!=`function`)throw Error();return this.tween(r,fo(e,t,n??``))}function mo(e){return function(){this.textContent=e}}function ho(e){return function(){this.textContent=e(this)??``}}function go(e){return this.tween(`text`,typeof e==`function`?ho(Ca(this,`text`,e)):mo(e==null?``:e+``))}function _o(e){return function(t){this.textContent=e.call(this,t)}}function vo(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&_o(r)),t}return r._value=e,r}function yo(e){var t=`text`;if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!=`function`)throw Error();return this.tween(t,vo(e))}function bo(){for(var e=this._name,t=this._id,n=wo(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)if(c=o[l]){var u=Z(c,t);ha(c,e,n,l,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Q(r,this._parents,e,n)}function xo(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var n=X(this,r),i=n.on;i!==e&&(t=(e=i).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}),i===0&&a()})}var So=0;function Q(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Co(e){return Gr().transition(e)}function wo(){return++So}var $=Gr.prototype;Q.prototype=Co.prototype={constructor:Q,select:eo,selectAll:to,selectChild:$.selectChild,selectChildren:$.selectChildren,filter:qa,merge:Ja,selection:ro,transition:bo,call:$.call,nodes:$.nodes,node:$.node,size:$.size,empty:$.empty,each:$.each,on:Za,attr:ja,attrTween:Ia,style:lo,styleTween:po,text:go,textTween:yo,remove:$a,tween:Sa,delay:za,duration:Ha,ease:Wa,easeVarying:Ka,end:xo,[Symbol.iterator]:$[Symbol.iterator]};function To(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Eo={time:null,delay:0,duration:250,ease:To};function Do(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}function Oo(e){var t,n;e instanceof Q?(t=e._id,e=e._name):(t=wo(),(n=Eo).time=ra(),e=e==null?null:e+``);for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,c,l=0;l<s;++l)(c=o[l])&&ha(c,e,t,l,o,n||Do(c,t));return new Q(r,this._parents,e,t)}Gr.prototype.interrupt=ya,Gr.prototype.transition=Oo;var{abs:ko,max:Ao,min:jo}=Math;[`w`,`e`].map(Mo),[`n`,`s`].map(Mo),[`n`,`w`,`e`,`s`,`nw`,`ne`,`sw`,`se`].map(Mo);function Mo(e){return{type:e}}function No(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Po(){return this.eachAfter(No)}function Fo(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function Io(e,t){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Lo(e,t){for(var n=this,r=[n],i=[],a,o,s,c=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)e.call(t,n,++c,this);return this}function Ro(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function zo(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Bo(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Vo(e){for(var t=this,n=Ho(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Ho(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Uo(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Wo(){return Array.from(this)}function Go(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ko(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*qo(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Jo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Zo)):t===void 0&&(t=Xo);for(var n=new es(e),r,i=[n],a,o,s,c;r=i.pop();)if((o=t(r.data))&&(c=(o=Array.from(o)).length))for(r.children=o,s=c-1;s>=0;--s)i.push(a=o[s]=new es(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore($o)}function Yo(){return Jo(this).eachBefore(Qo)}function Xo(e){return e.children}function Zo(e){return Array.isArray(e)?e[1]:null}function Qo(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function $o(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function es(e){this.data=e,this.depth=this.height=0,this.parent=null}es.prototype=Jo.prototype={constructor:es,count:Po,each:Fo,eachAfter:Lo,eachBefore:Io,find:Ro,sum:zo,sort:Bo,path:Vo,ancestors:Uo,descendants:Wo,leaves:Go,links:Ko,copy:Yo,[Symbol.iterator]:qo};function ts(e,t){return e.parent===t.parent?1:2}function ns(e){var t=e.children;return t?t[0]:e.t}function rs(e){var t=e.children;return t?t[t.length-1]:e.t}function is(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function as(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function os(e,t,n){return e.a.parent===t.parent?e.a:n}function ss(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ss.prototype=Object.create(es.prototype);function cs(e){for(var t=new ss(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new ss(a[o],o)),i.parent=n;return(t.parent=new ss(null,0)).children=[t],t}function ls(){var e=ts,t=1,n=1,r=null;function i(i){var s=cs(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(c);else{var l=i,u=i,d=i;i.eachBefore(function(e){e.x<l.x&&(l=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var f=l===u?1:e(l,u)/2,p=f-l.x,m=t/(u.x+f+p),h=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+p)*m,e.y=e.depth*h})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){as(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=s(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(t,n,r){if(n){for(var i=t,a=t,o=n,s=i.parent.children[0],c=i.m,l=a.m,u=o.m,d=s.m,f;o=rs(o),i=ns(i),o&&i;)s=ns(s),a=rs(a),a.a=t,f=o.z+u-i.z-c+e(o._,i._),f>0&&(is(os(o,t,r),t,f),c+=f,l+=f),u+=o.m,c+=i.m,d+=s.m,l+=a.m;o&&!rs(a)&&(a.t=o,a.m+=u-l),i&&!ns(s)&&(s.t=i,s.m+=c-d,r=t)}return r}function c(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function us(e,t,n){this.k=e,this.x=t,this.y=n}us.prototype={constructor:us,scale:function(e){return e===1?this:new us(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new us(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return`translate(`+this.x+`,`+this.y+`) scale(`+this.k+`)`}};var ds=new us(1,0,0);fs.prototype=us.prototype;function fs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ds;return e.__zoom}var ps={class:`mb-4 flex items-center justify-between`},ms={class:`flex items-center gap-2`},hs=[`title`],gs={class:`flex flex-wrap gap-2 text-sm text-base-content/60`},_s={class:`mb-4 flex flex-wrap gap-4 text-xs`},vs={class:`flex items-center gap-1`},ys={class:`flex items-center gap-1`},bs={class:`flex items-center gap-1`},xs={class:`flex items-center gap-1`},Ss={class:`flex items-center gap-1`},Cs={key:0,class:`flex flex-col items-center justify-center py-8 text-base-content/60`},ws=e({__name:`NetworkTopology`,setup(e){let{t}=O(),r=ge(),o=j(),l=k(null),u=k(null),d=k(new Set),p=k(!1),m=k(null),g=h(()=>p.value&&m.value?m.value:r.activeConnections),v=null,b=null,x=null;function ee(e,t=`600 11px sans-serif`){x||=document.createElement(`canvas`);let n=x.getContext(`2d`);return n?(n.font=t,n.measureText(e).width):e.length*7}let w=!1;function A(){w||(w=!0,requestAnimationFrame(()=>{w=!1,z()}))}let te=h(()=>{let e=g.value,t=new Map;e.forEach(e=>{let n=e.metadata.sourceIP||`Unknown`,r=String(e.metadata.sourcePort||`Unknown`),i=e.rule||`Direct`,a=e.rulePayload,o=a?`${i}: ${a}`:i,s=e.chains||[],c=s[0]??`Direct`,l=s.length>1?s[1]??`Direct`:s[0]??`Direct`,u=e.download+e.upload;t.has(l)||t.set(l,{data:{id:`group-${l}`,name:l,type:`group`,connections:0,traffic:0},proxies:new Map});let d=t.get(l);d.data.connections++,d.data.traffic+=u,d.proxies.has(c)||d.proxies.set(c,{data:{id:`proxy-${l}-${c}`,name:c,type:`proxy`,connections:0,traffic:0},rules:new Map});let f=d.proxies.get(c);f.data.connections++,f.data.traffic+=u,f.rules.has(o)||f.rules.set(o,{data:{id:`rule-${l}-${c}-${o}`,name:o,type:`rule`,connections:0,traffic:0},clients:new Map});let p=f.rules.get(o);p.data.connections++,p.data.traffic+=u,p.clients.has(n)||p.clients.set(n,{data:{id:`client-${l}-${c}-${o}-${n}`,name:n,type:`client`,connections:0,traffic:0},ports:new Map});let m=p.clients.get(n);m.data.connections++,m.data.traffic+=u,m.ports.has(r)||m.ports.set(r,{id:`port-${l}-${c}-${o}-${n}-${r}`,name:r,type:`port`,connections:0,traffic:0});let h=m.ports.get(r);h.connections++,h.traffic+=u});let n=[];function r(e,t=!1){return(d.value.has(e.id)||t)&&e.children&&e.children.length>0?{...e,_children:e.children,children:void 0,collapsed:!0}:{...e,collapsed:!1}}return t.forEach(e=>{let t={...e.data,children:[]};e.proxies.forEach(e=>{let n={...e.data,children:[]};e.rules.forEach(e=>{let t={...e.data,children:[]};e.clients.forEach(e=>{let n=Array.from(e.ports.values()),r=d.value.has(`expanded-${e.data.id}`)?{...e.data,children:n,collapsed:!1}:{...e.data,_children:n,children:void 0,collapsed:!0};t.children.push(r)}),!d.value.has(`expanded-${e.data.id}`)&&t.children.length>0?(t._children=t.children,t.children=void 0,t.collapsed=!0):t.collapsed=!1,n.children.push(t)});let i=r(n);t.children.push(i)});let i=r(t);n.push(i)}),{id:`root`,name:`Connections`,type:`root`,connections:e.length,traffic:e.reduce((e,t)=>e+t.download+t.upload,0),children:n}}),N=h(()=>{let e=g.value,t=new Set,n=new Set,r=new Set,i=new Set;return e.forEach(e=>{t.add(e.metadata.sourceIP||`Unknown`),n.add(e.rule||`Direct`);let a=e.chains||[];i.add(a[0]??`Direct`),r.add(a.length>1?a[1]??`Direct`:a[0]??`Direct`)}),{clientCount:t.size,ruleCount:n.size,groupCount:r.size,proxyCount:i.size,totalTraffic:e.reduce((e,t)=>e+t.download+t.upload,0)}});function ne(){let e=ye();return{root:{fill:e.neutral,bg:`color-mix(in oklch, ${e.neutral} 15%, transparent)`},client:{fill:e.primary,bg:`color-mix(in oklch, ${e.primary} 15%, transparent)`},port:{fill:e.warning,bg:`color-mix(in oklch, ${e.warning} 15%, transparent)`},rule:{fill:e.secondary,bg:`color-mix(in oklch, ${e.secondary} 15%, transparent)`},group:{fill:e.accent,bg:`color-mix(in oklch, ${e.accent} 15%, transparent)`},proxy:{fill:e.info,bg:`color-mix(in oklch, ${e.info} 15%, transparent)`},baseContent:e.baseContent}}function F(){let e=o.curTheme;return v&&b===e?v:(v=ne(),b=e,v)}function I(e){return F()[e].fill}function L(e){return F()[e].bg}function R(e){switch(e){case`client`:return re;case`port`:return P;case`rule`:return M;case`group`:return ce;case`proxy`:return pe;default:return ce}}function ie(e,t){let n=`expanded-${e}`;t?e.startsWith(`rule-`)||e.startsWith(`client-`)?d.value.add(n):d.value.delete(e):e.startsWith(`rule-`)||e.startsWith(`client-`)?d.value.delete(n):d.value.add(e)}function z(){if(!l.value||!u.value)return;let e=te.value;if(!e.children||e.children.length===0)return;Kr(l.value).selectAll(`*`).remove();let t=Jo(e),n=u.value.clientWidth;ls().nodeSize([50,100]).separation((e,t)=>e.parent===t.parent?1:1.5)(t);let r=new Map,i=t.descendants();for(let e of i)if(e.data.type!==`root`){let t=ee(e.data.name),n=e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0?20:0;r.set(e.data.id,t+32+n)}function a(e){return r.get(e.data.id)??80}let o=new Map;t.descendants().forEach(e=>{if(e.data.type!==`root`){let t=a(e),n=o.get(e.depth)??0;o.set(e.depth,Math.max(n,t))}});let s=new Map,c=0;for(let e=1;e<=o.size;e++){let t=o.get(e)??100;if(e===1)c=t/2;else{let n=o.get(e-1)??100;c+=n/2+40+t/2}s.set(e,c)}t.descendants().forEach(e=>{e.data.type!==`root`&&e.depth>0&&(e.y=s.get(e.depth)??e.y)});let d=1/0,f=-1/0;t.each(e=>{let t=e.x??0;t<d&&(d=t),t>f&&(f=t)});let p=f-d+50,m=Math.max(400,p+25+40),h=0;t.each(e=>{if(e.data.type!==`root`){let t=r.get(e.data.id)??80,n=(e.y??0)+t/2;n>h&&(h=n)}});let g=Math.max(n,h+60+40),_=Kr(l.value).attr(`width`,g).attr(`height`,m).append(`g`).attr(`transform`,`translate(60, ${-d+50/2+25})`),v=F(),y=t.links().filter(e=>e.source.data.type!==`root`);_.selectAll(`.link`).data(y).join(`path`).attr(`class`,`link`).attr(`d`,e=>{let t=e.source,n=e.target,r=a(t),i=a(n),o=t.y-0+r/2,s=t.x,c=n.y-0-i/2,l=n.x,u=(o+c)/2;return`M${o},${s} C${u},${s} ${u},${l} ${c},${l}`}).attr(`fill`,`none`).attr(`stroke`,v.baseContent).attr(`stroke-opacity`,.3).attr(`stroke-width`,e=>Math.max(1,Math.min(4,e.target.data.connections/5)));let b=_.selectAll(`.node`).data(t.descendants().filter(e=>e.data.type!==`root`)).join(`g`).attr(`class`,`node`).attr(`transform`,e=>`translate(${(e.y??0)-0},${e.x})`).style(`cursor`,e=>e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0?`pointer`:`default`).on(`click`,(e,t)=>{(t.data.children&&t.data.children.length>0||t.data._children&&t.data._children.length>0)&&ie(t.data.id,t.data.collapsed??!1)});b.append(`text`).attr(`dy`,-30/2-4).attr(`text-anchor`,`middle`).attr(`fill`,e=>I(e.data.type)).attr(`font-size`,`10px`).attr(`font-weight`,`500`).text(e=>`${e.data.connections}`),b.append(`rect`).attr(`x`,e=>-a(e)/2).attr(`y`,-30/2).attr(`width`,e=>a(e)).attr(`height`,30).attr(`rx`,6).attr(`fill`,e=>L(e.data.type)).attr(`stroke`,e=>I(e.data.type)).attr(`stroke-width`,2),b.filter(e=>!!(e.data.children&&e.data.children.length>0||e.data._children&&e.data._children.length>0)).append(`text`).attr(`x`,e=>a(e)/2-12).attr(`dy`,`0.35em`).attr(`text-anchor`,`middle`).attr(`fill`,e=>I(e.data.type)).attr(`font-size`,`14px`).attr(`font-weight`,`700`).text(e=>e.data.collapsed?`+`:``),b.append(`text`).attr(`dy`,`0.31em`).attr(`text-anchor`,`middle`).attr(`fill`,e=>I(e.data.type)).attr(`font-size`,`11px`).attr(`font-weight`,`600`).text(e=>e.data.name),b.append(`title`).text(e=>`${e.data.name}\n${e.data.connections} connections\n${B(e.data.traffic).toString()}`)}function ae(){p.value?m.value=null:m.value=[...r.activeConnections],p.value=!p.value}return y([()=>te.value,()=>o.curTheme],()=>{T(A)},{deep:!0}),_(()=>{T(A);let e=new ResizeObserver(()=>A());u.value&&e.observe(u.value),C(()=>{e.disconnect(),x=null,v=null})}),(e,r)=>(E(),s(`div`,null,[a(`div`,ps,[a(`div`,ms,[a(`button`,{class:n([`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content transition-all duration-200 ease-in-out hover:bg-base-content/10`,{"text-warning":i(p)}]),title:i(p)?i(t)(`resume`):i(t)(`pause`),onClick:ae},[i(p)?(E(),c(i(oe),{key:0,class:`h-4 w-4`})):(E(),c(i(me),{key:1,class:`h-4 w-4`}))],10,hs)]),a(`div`,gs,[a(`span`,null,S(i(N).clientCount)+` `+S(i(t)(`clients`)),1),r[0]||=a(`span`,null,``,-1),a(`span`,null,S(i(N).ruleCount)+` `+S(i(t)(`rules`)),1),r[1]||=a(`span`,null,``,-1),a(`span`,null,S(i(N).groupCount)+` `+S(i(t)(`groups`)),1),r[2]||=a(`span`,null,``,-1),a(`span`,null,S(i(N).proxyCount)+` `+S(i(t)(`nodes`)),1),r[3]||=a(`span`,null,``,-1),a(`span`,null,S(i(B)(i(N).totalTraffic).toString()),1)])]),a(`div`,_s,[a(`div`,vs,[(E(),c(D(R(`group`)),{class:`h-4 w-4 text-accent`})),a(`span`,null,S(i(t)(`proxyGroups`)),1)]),a(`div`,ys,[(E(),c(D(R(`proxy`)),{class:`h-4 w-4 text-info`})),a(`span`,null,S(i(t)(`proxyNodes`)),1)]),a(`div`,bs,[(E(),c(D(R(`rule`)),{class:`h-4 w-4 text-secondary`})),a(`span`,null,S(i(t)(`rules`)),1)]),a(`div`,xs,[(E(),c(D(R(`client`)),{class:`h-4 w-4 text-primary`})),a(`span`,null,S(i(t)(`sourceIP`)),1)]),a(`div`,Ss,[(E(),c(D(R(`port`)),{class:`h-4 w-4 text-warning`})),a(`span`,null,S(i(t)(`sourcePort`)),1)])]),i(g).length===0?(E(),s(`div`,Cs,[f(i(ue),{class:`mb-2 h-8 w-8 animate-pulse`}),a(`span`,null,S(i(t)(`waitingForConnections`)),1)])):(E(),s(`div`,{key:1,ref_key:`containerRef`,ref:u,class:`touch-pan-x touch-pan-y overflow-x-auto`},[(E(),s(`svg`,{ref_key:`svgRef`,ref:l,class:`min-h-[25rem]`},null,512))],512))]))}}),Ts=Object.assign(ws,{__name:`NetworkTopology`}),Es={class:`rounded-xl border border-base-content/10 bg-base-200/50 p-4`},Ds={class:`flex flex-col gap-2`},Os={class:`flex items-center justify-between gap-2`},ks={class:`flex items-center gap-2`},As={class:`font-semibold`},js={class:`relative`},Ms=[`title`],Ns={key:0,class:`flex items-center gap-2`},Ps=[`value`],Fs={class:`hidden sm:inline`},Is={key:0,class:`flex flex-col gap-1 rounded-lg border border-base-content/10 bg-base-200/80 p-3 sm:flex-row sm:flex-wrap sm:items-center sm:gap-4`},Ls={class:`flex flex-col`},Rs={class:`text-xs text-base-content/60`},zs={class:`text-lg font-bold text-primary`},Bs={key:0,class:`flex flex-col`},Vs={class:`text-xs text-base-content/60`},Hs=[`title`],Us={class:`flex flex-col`},Ws={class:`text-xs text-base-content/60`},Gs={class:`text-lg font-bold`},Ks={class:`flex flex-col`},qs={class:`text-xs text-base-content/60`},Js={class:`text-lg font-bold`},Ys={class:`flex flex-col`},Xs={class:`text-xs text-base-content/60`},Zs={class:`text-lg font-bold text-secondary`},Qs={class:`flex shrink-0 items-center justify-center py-2 md:hidden`},$s={class:`hidden overflow-x-auto rounded-lg lg:block`},ec={class:`w-full text-sm`},tc={class:`border-b border-base-content/10 bg-base-200/80`},nc={class:`px-3 py-2 text-left text-base-content`},rc={class:`px-3 py-2 text-left text-base-content`},ic={class:`px-3 py-2 text-left text-base-content`},ac={class:`px-3 py-2 text-left text-base-content`},oc={class:`px-3 py-2 text-left text-base-content`},sc={class:`px-3 py-2 text-left text-base-content`},cc={key:0},lc={colspan:`6`,class:`px-3 py-4 text-center text-base-content/70`},uc={class:`px-3 py-2 font-mono text-base-content`},dc=[`title`],fc={class:`flex items-center gap-1`},pc={class:`text-sm`},mc={class:`px-3 py-2 text-base-content`},hc={class:`px-3 py-2 text-base-content`},gc={class:`px-3 py-2 font-bold text-primary`},_c={class:`px-3 py-2`},vc=[`title`,`onClick`],yc={class:`flex flex-col gap-3 lg:hidden`},bc={key:0,class:`flex flex-col gap-2 rounded-lg border border-base-content/10 bg-base-200/80 p-3`},xc={class:`flex items-center gap-2`},Sc={class:`text-xs font-semibold text-base-content/60`},Cc={class:`flex flex-1 gap-2`},wc={key:1,class:`rounded-lg border border-base-content/10 bg-base-200/80 p-4 text-center text-base-content/70`},Tc={class:`mb-2 flex items-start justify-between`},Ec={class:`flex-1`},Dc={class:`text-xs font-semibold text-base-content/60 uppercase`},Oc={class:`font-mono text-sm font-bold break-all text-base-content`},kc=[`title`,`onClick`],Ac={key:0,class:`mb-2`},jc={class:`text-xs font-semibold text-base-content/60 uppercase`},Mc={class:`flex items-center gap-1 text-sm text-base-content`},Nc={class:`text-xs text-base-content/60`},Pc={class:`grid grid-cols-3 gap-2`},Fc={class:`text-xs font-semibold text-base-content/60 uppercase`},Ic={class:`text-sm font-medium text-base-content`},Lc={class:`text-xs font-semibold text-base-content/60 uppercase`},Rc={class:`text-sm font-medium text-base-content`},zc={class:`text-xs font-semibold text-base-content/60 uppercase`},Bc={class:`text-sm font-bold text-primary`},Vc={class:`hidden shrink-0 items-center justify-between gap-2 pt-2 md:flex`},Hc={class:`flex shrink-0 items-center gap-1.5`},Uc=[`value`],Wc={class:`text-xs whitespace-nowrap text-base-content/60`},Gc=e({__name:`DataUsageTable`,setup(e){let{t,locale:u}=O(),d=ge(),_=k(`total`),x=k(`desc`),C=r(`showDataUsageTable`,!1),T=r(`dataUsageView`,`sourceIP`),D=k(0),A=r(`dataUsageTablePageSize`,50),j=e=>B(e).toString(),te=h(()=>[{label:t(`devices`),value:`sourceIP`},{label:t(`host`),value:`host`},{label:t(`proxies`),value:`outbound`},{label:t(`process`),value:`process`}]);function M(e){_.value===e?x.value=x.value===`asc`?`desc`:`asc`:(_.value=e,x.value=`desc`)}let N=h(()=>{let e=d.dataUsageMap[T.value]||{},t=Object.values(e),n=_.value,r=x.value;return t.sort((e,t)=>{let i=0;switch(n){case`label`:i=e.label.localeCompare(t.label);break;case`duration`:i=(e.firstSeen?e.lastSeen-e.firstSeen:0)-(t.firstSeen?t.lastSeen-t.firstSeen:0);break;case`upload`:i=e.upload-t.upload;break;case`download`:i=e.download-t.download;break;case`total`:i=e.total-t.total;break}return r===`asc`?i:-i})}),P=h(()=>{let e=N.value,t=e.reduce((e,t)=>e+t.upload,0),n=e.reduce((e,t)=>e+t.download,0),r=2**53-1,i=0;e.forEach(e=>{e.firstSeen&&e.firstSeen<r&&(r=e.firstSeen),e.lastSeen&&e.lastSeen>i&&(i=e.lastSeen)});let a=r!==2**53-1&&i>0;return{count:e.length,upload:t,download:n,total:t+n,firstSeen:a?r:void 0,lastSeen:a?i:void 0}}),F=h(()=>Math.max(1,Math.ceil(N.value.length/A.value))),re=h(()=>{let e=D.value,t=F.value,n=[];n.push(0);for(let r=Math.max(1,e-1);r<=Math.min(t-2,e+1);r++)n.includes(r)||n.push(r);return t>1&&!n.includes(t-1)&&n.push(t-1),n.sort((e,t)=>e-t)}),L=h(()=>{let e=D.value*A.value;return N.value.slice(e,e+A.value)}),R=h(()=>{let e=N.value.length;return`${D.value*A.value+1}-${Math.min((D.value+1)*A.value,e)} / ${e}`});y([T],()=>{D.value=0});function ae(){confirm(t(`confirmClearAll`))&&d.clearDataUsage()}function oe(e){d.removeDataUsageEntry(T.value,e)}let se=h(()=>{let e=te.value.find(e=>e.value===T.value);return e?e.label:t(`name`)});return(e,r)=>{let d=Se;return E(),s(`div`,Es,[a(`div`,Ds,[a(`div`,Os,[a(`div`,ks,[a(`h3`,As,S(i(t)(`dataUsage`)),1),a(`div`,js,[a(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-info hover:bg-base-content/10`,title:i(t)(`dataUsageInfo`)},[f(i(ie),{size:18})],8,Ms)]),ee(a(`input`,{"onUpdate:modelValue":r[0]||=e=>b(C)?C.value=e:null,type:`checkbox`,class:`toggle toggle-primary`},null,512),[[l,i(C)]])]),i(C)?(E(),s(`div`,Ns,[ee(a(`select`,{"onUpdate:modelValue":r[1]||=e=>b(T)?T.value=e:null,class:`h-8 rounded-lg border border-base-content/12 bg-base-200/80 px-2 text-sm text-base-content focus:outline-none`},[(E(!0),s(o,null,v(i(te),e=>(E(),s(`option`,{key:e.value,value:e.value},S(e.label),9,Ps))),128))],512),[[p,i(T)]]),a(`button`,{class:`flex h-8 items-center gap-1 rounded-lg bg-error/15 px-3 text-sm text-error transition-colors hover:bg-error/25`,onClick:ae},[f(i(de),{size:16}),a(`span`,Fs,S(i(t)(`clearAll`)),1)])])):w(``,!0)]),i(C)?(E(),s(o,{key:0},[i(P).count>0?(E(),s(`div`,Is,[a(`div`,Ls,[a(`div`,Rs,S(i(se)),1),a(`div`,zs,S(i(P).count),1)]),i(P).firstSeen&&i(P).lastSeen?(E(),s(`div`,Bs,[a(`div`,Vs,S(i(t)(`timeRange`)),1),a(`div`,{class:`flex items-center gap-1 text-sm font-semibold`,title:i(be)(i(P).firstSeen,i(P).lastSeen,i(u))},[f(i(ne),{size:16}),a(`span`,null,S(i(ve)(i(P).firstSeen,i(P).lastSeen)),1)],8,Hs)])):w(``,!0),a(`div`,Us,[a(`div`,Ws,S(i(t)(`uploadTotal`)),1),a(`div`,Gs,S(j(i(P).upload)),1)]),a(`div`,Ks,[a(`div`,qs,S(i(t)(`downloadTotal`)),1),a(`div`,Js,S(j(i(P).download)),1)]),a(`div`,Ys,[a(`div`,Xs,S(i(t)(`grandTotal`)),1),a(`div`,Zs,S(j(i(P).total)),1)])])):w(``,!0),a(`div`,Qs,[f(d,{"current-page":i(D),"total-pages":i(F),"visible-pages":i(re),onGoToPage:r[2]||=e=>D.value=e,onPrevious:r[3]||=e=>D.value--,onNext:r[4]||=e=>D.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])]),a(`div`,$s,[a(`table`,ec,[a(`thead`,null,[a(`tr`,tc,[a(`th`,nc,[a(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:r[5]||=e=>M(`label`)},[a(`span`,null,S(i(se)),1),i(_)===`label`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:14})):i(_)===`label`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:14})):w(``,!0)])]),a(`th`,rc,[a(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:r[6]||=e=>M(`duration`)},[a(`span`,null,S(i(t)(`duration`)),1),i(_)===`duration`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:14})):i(_)===`duration`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:14})):w(``,!0)])]),a(`th`,ic,[a(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:r[7]||=e=>M(`upload`)},[a(`span`,null,S(i(t)(`upload`)),1),i(_)===`upload`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:14})):i(_)===`upload`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:14})):w(``,!0)])]),a(`th`,ac,[a(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:r[8]||=e=>M(`download`)},[a(`span`,null,S(i(t)(`download`)),1),i(_)===`download`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:14})):i(_)===`download`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:14})):w(``,!0)])]),a(`th`,oc,[a(`button`,{class:`flex items-center gap-1 hover:text-primary`,onClick:r[9]||=e=>M(`total`)},[a(`span`,null,S(i(t)(`total`)),1),i(_)===`total`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:14})):i(_)===`total`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:14})):w(``,!0)])]),a(`th`,sc,S(i(t)(`actions`)),1)])]),a(`tbody`,null,[i(L).length===0?(E(),s(`tr`,cc,[a(`td`,lc,S(i(t)(`noDataUsageYet`)),1)])):(E(!0),s(o,{key:1},v(i(L),e=>(E(),s(`tr`,{key:e.label,class:`border-b border-base-content/5 transition-colors hover:bg-base-content/5`},[a(`td`,uc,S(e.label),1),a(`td`,{class:`px-3 py-2 text-base-content`,title:e.firstSeen?i(be)(e.firstSeen,e.lastSeen,i(u)):`-`},[a(`div`,fc,[f(i(ne),{size:14,class:`text-base-content/60`}),a(`span`,pc,S(e.firstSeen?i(ve)(e.firstSeen,e.lastSeen):`-`),1)])],8,dc),a(`td`,mc,S(j(e.upload)),1),a(`td`,hc,S(j(e.download)),1),a(`td`,gc,S(j(e.total)),1),a(`td`,_c,[a(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded text-error hover:bg-error/20`,title:i(t)(`remove`),onClick:m(t=>oe(e.label),[`stop`])},[f(i(de),{size:14})],8,vc)])]))),128))])])]),a(`div`,yc,[i(L).length>0?(E(),s(`div`,bc,[a(`div`,xc,[a(`div`,Sc,S(i(t)(`sortBy`)),1),a(`div`,Cc,[a(`button`,{class:n([`flex-1 rounded px-2 py-1 text-xs transition-colors`,i(_)===`label`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:r[10]||=e=>M(`label`)},[g(S(i(t)(`name`))+` `,1),i(_)===`label`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:12})):i(_)===`label`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:12})):w(``,!0)],2),a(`button`,{class:n([`flex-1 rounded px-2 py-1 text-xs transition-colors`,i(_)===`duration`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:r[11]||=e=>M(`duration`)},[g(S(i(t)(`duration`))+` `,1),i(_)===`duration`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:12})):i(_)===`duration`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:12})):w(``,!0)],2),a(`button`,{class:n([`flex-1 rounded px-2 py-1 text-xs transition-colors`,i(_)===`upload`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:r[12]||=e=>M(`upload`)},[g(S(i(t)(`upload`))+` `,1),i(_)===`upload`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:12})):i(_)===`upload`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:12})):w(``,!0)],2),a(`button`,{class:n([`flex-1 rounded px-2 py-1 text-xs transition-colors`,i(_)===`download`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:r[13]||=e=>M(`download`)},[g(S(i(t)(`download`))+` `,1),i(_)===`download`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:12})):i(_)===`download`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:12})):w(``,!0)],2),a(`button`,{class:n([`flex-1 rounded px-2 py-1 text-xs transition-colors`,i(_)===`total`?`bg-primary text-primary-content`:`bg-base-content/10 hover:bg-base-content/15`]),onClick:r[14]||=e=>M(`total`)},[g(S(i(t)(`total`))+` `,1),i(_)===`total`&&i(x)===`asc`?(E(),c(i(z),{key:0,size:12})):i(_)===`total`&&i(x)===`desc`?(E(),c(i(I),{key:1,size:12})):w(``,!0)],2)])])])):w(``,!0),i(L).length===0?(E(),s(`div`,wc,S(i(t)(`noDataUsageYet`)),1)):w(``,!0),(E(!0),s(o,null,v(i(L),e=>(E(),s(`div`,{key:e.label,class:`rounded-lg border border-base-content/10 bg-base-200/80 p-4`},[a(`div`,Tc,[a(`div`,Ec,[a(`div`,Dc,S(i(se)),1),a(`div`,Oc,S(e.label),1)]),a(`button`,{class:`flex h-6 w-6 cursor-pointer items-center justify-center rounded-full text-error hover:bg-error/20`,title:i(t)(`remove`),onClick:m(t=>oe(e.label),[`stop`])},[f(i(de),{size:16})],8,kc)]),e.firstSeen?(E(),s(`div`,Ac,[a(`div`,jc,S(i(t)(`timeRange`)),1),a(`div`,Mc,[f(i(ne),{size:14,class:`text-base-content/60`}),a(`span`,null,S(i(ve)(e.firstSeen,e.lastSeen)),1)]),a(`div`,Nc,S(i(be)(e.firstSeen,e.lastSeen,i(u))),1)])):w(``,!0),r[19]||=a(`div`,{class:`my-2 h-px bg-base-content/10`},null,-1),a(`div`,Pc,[a(`div`,null,[a(`div`,Fc,S(i(t)(`upload`)),1),a(`div`,Ic,S(j(e.upload)),1)]),a(`div`,null,[a(`div`,Lc,S(i(t)(`download`)),1),a(`div`,Rc,S(j(e.download)),1)]),a(`div`,null,[a(`div`,zc,S(i(t)(`total`)),1),a(`div`,Bc,S(j(e.total)),1)])])]))),128))]),a(`div`,Vc,[a(`div`,Hc,[ee(a(`select`,{"onUpdate:modelValue":r[15]||=e=>b(A)?A.value=e:null,class:`h-7 rounded-lg border border-base-content/12 bg-base-200/80 px-2 text-xs text-base-content focus:outline-none`},[(E(),s(o,null,v([20,50,100,200],e=>a(`option`,{key:e,value:e},S(e),9,Uc)),64))],512),[[p,i(A),void 0,{number:!0}]]),a(`span`,Wc,S(i(R)),1)]),f(d,{"current-page":i(D),"total-pages":i(F),"visible-pages":i(re),onGoToPage:r[16]||=e=>D.value=e,onPrevious:r[17]||=e=>D.value--,onNext:r[18]||=e=>D.value++},null,8,[`current-page`,`total-pages`,`visible-pages`])])],64)):w(``,!0)])])}}}),Kc=Object.assign(Gc,{__name:`DataUsageTable`}),qc={class:`flex h-full flex-col gap-4 overflow-x-hidden overflow-y-auto p-1 pr-2 sm:pr-3`},Jc={class:`-m-1 grid min-w-0 grid-cols-2 gap-3 p-1 sm:grid-cols-3 xl:grid-cols-6`},Yc={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:0ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},Xc={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-success/15 text-success`},Zc={class:`flex min-w-0 flex-col gap-0.5`},Qc={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},$c={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},el={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:50ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},tl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-info/15 text-info`},nl={class:`flex min-w-0 flex-col gap-0.5`},rl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},il={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},al={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:100ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},ol={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-secondary/15 text-secondary`},sl={class:`flex min-w-0 flex-col gap-0.5`},cl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},ll={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},ul={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:150ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},dl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-secondary/15 text-secondary`},fl={class:`flex min-w-0 flex-col gap-0.5`},pl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},ml={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},hl={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:200ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},gl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-warning/15 text-warning`},_l={class:`flex min-w-0 flex-col gap-0.5`},vl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},yl={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},bl={class:`overview-stat-card animate-fade-slide-in flex min-w-0 items-center gap-3 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-4 transition-all duration-200 [animation-delay:250ms] hover:z-10 hover:-translate-y-0.5 hover:border-base-content/20`},xl={class:`flex h-10 w-10 shrink-0 items-center justify-center rounded-[0.625rem] bg-error/15 text-error`},Sl={class:`flex min-w-0 flex-col gap-0.5`},Cl={class:`overflow-hidden text-xs text-ellipsis whitespace-nowrap text-base-content/60`},wl={class:`text-base font-semibold whitespace-nowrap text-base-content tabular-nums`},Tl={key:0,class:`animate-fade-slide-in flex items-center justify-center gap-2 rounded-lg border border-primary/15 bg-primary/8 px-4 py-3 [animation-delay:300ms]`},El={class:`text-sm text-base-content/60`},Dl={class:`font-mono text-sm font-medium text-base-content`},Ol={class:`grid min-w-0 grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-3`},kl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:350ms] lg:h-80`},Al={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:400ms] lg:h-80`},jl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:450ms] lg:h-80`},Ml={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:500ms] lg:h-80`},Nl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:550ms] lg:h-80`},Pl={class:`animate-fade-slide-in h-72 min-w-0 overflow-hidden rounded-xl border border-base-content/10 bg-base-200 p-2 [animation-delay:600ms] lg:h-80`},Fl={class:`grid grid-cols-1 gap-4 md:grid-cols-2`},Il={class:`rounded-xl border border-base-content/10 bg-base-200 p-4`},Ll={class:`flex items-center gap-2 font-semibold text-base-content`},Rl={class:`flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-base-content transition-colors duration-200 hover:bg-base-content/10`},zl=e({__name:`overview`,setup(e){let{t:r}=O();x({title:h(()=>r(`overview`))});let o=te(),l=ge(),u=t(),d=j(),p=e=>B(e).toString(),m=h(()=>(d.curTheme,xe())),g=k(),_=k(),v=k(),b=h(()=>[{name:r(`down`),color:m.value.seriesColors[0]},{name:r(`up`),color:m.value.seriesColors[1]}]),C=h(()=>[[...o.trafficChartHistory.download],[...o.trafficChartHistory.upload]]),ee=h(()=>[{name:r(`memory`),color:m.value.seriesColors[2]}]),T=h(()=>[[...o.memoryChartHistory]]),D=h(()=>[{name:r(`activeConnections`),color:m.value.seriesColors[3]}]),A=h(()=>[[...o.connectionCountHistory]]),M=h(()=>({chart:{type:`pie`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:r(`flow`),style:{color:m.value.textColor}},tooltip:{pointFormatter(){let e=this.y||0,t=this.percentage||0;return`${this.name}<br/>${B(e).toString()} (${t.toFixed(1)}%)`}},plotOptions:{pie:{allowPointSelect:!0,cursor:`pointer`,dataLabels:{enabled:!1},showInLegend:!0,animation:!1}},legend:{itemStyle:{color:m.value.textColor},itemHoverStyle:{color:m.value.textColorHover}},series:[{type:`pie`,name:r(`flow`),data:[{name:r(`downloadTotal`),y:l.latestConnectionMsg?.downloadTotal||0,color:m.value.seriesColors[0]},{name:r(`uploadTotal`),y:l.latestConnectionMsg?.uploadTotal||0,color:m.value.seriesColors[1]}]}]})),P=h(()=>{let e=l.activeConnections,t=0,n=0,i=0;return e.forEach(e=>{let r=e.metadata.network?.toLowerCase()||``;r===`tcp`?t++:r===`udp`?n++:i++}),{chart:{type:`pie`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:r(`networkTypes`),style:{color:m.value.textColor}},tooltip:{pointFormatter(){let e=this.y||0,t=this.percentage||0;return`${this.name}: <b>${e}</b> (${t.toFixed(1)}%)`}},plotOptions:{pie:{allowPointSelect:!0,cursor:`pointer`,dataLabels:{enabled:!1},showInLegend:!0,animation:!1}},legend:{itemStyle:{color:m.value.textColor},itemHoverStyle:{color:m.value.textColorHover}},series:[{type:`pie`,name:r(`networkTypes`),data:[{name:r(`tcp`),y:t,color:m.value.seriesColors[0]},{name:r(`udp`),y:n,color:m.value.seriesColors[1]},...i>0?[{name:r(`other`),y:i,color:m.value.seriesColors[2]}]:[]]}]}}),ne=h(()=>{let e=l.speedGroupByName,t=Object.entries(e).sort(([,e],[,t])=>t-e).slice(0,5),n=t.map(([e])=>e),i=t.map(([,e])=>e);return{chart:{type:`bar`,backgroundColor:m.value.backgroundColor,animation:!1},credits:{enabled:!1},accessibility:{enabled:!1},title:{text:r(`topProxies`),style:{color:m.value.textColor}},xAxis:{categories:n,labels:{style:{color:m.value.textColor}},lineColor:m.value.lineColor},yAxis:{title:{text:void 0},labels:{style:{color:m.value.textColor},formatter(){return`${B(this.value).toString()}/s`}},gridLineColor:m.value.gridLineColor,min:0},tooltip:{formatter(){return`<b>${n[this.x]||this.x}</b><br/>${B(this.y).toString()}/s`}},legend:{enabled:!1},plotOptions:{bar:{dataLabels:{enabled:!1},animation:!1}},series:[{type:`bar`,name:r(`traffic`),data:i,color:m.value.seriesColors[0]}]}}),F=o.trafficChartHistory.download.at(-1)?.[0]??0,I=o.memoryChartHistory.at(-1)?.[0]??0,re=o.connectionCountHistory.at(-1)?.[0]??0;return y(()=>o.latestTraffic,e=>{if(e&&g.value?.chartRef){let t=Date.now();t>F&&(g.value.chartRef.addPoints([{seriesIndex:0,time:t,value:e.down},{seriesIndex:1,time:t,value:e.up}]),F=t)}}),y(()=>o.latestMemory?.inuse,e=>{if(e&&_.value?.chartRef){let t=Date.now();t>I&&(_.value.chartRef.addPoint(0,t,e),I=t)}}),y(()=>l.latestConnectionMsg?.connections?.length,e=>{if(e!==void 0&&v.value?.chartRef){let t=Date.now();t>re&&(v.value.chartRef.addPoint(0,t,e),re=t)}}),(e,t)=>{let m=De,h=Me,y=xt,x=Bt,O=Ts,k=Kc;return E(),s(`div`,qc,[a(`div`,Jc,[a(`div`,Yc,[a(`div`,Xc,[f(i(ae),{size:20})]),a(`div`,Zc,[a(`span`,Qc,S(i(r)(`upload`)),1),a(`span`,$c,S(p(i(o).latestTraffic?.up||0))+`/s `,1)])]),a(`div`,el,[a(`div`,tl,[f(i(fe),{size:20})]),a(`div`,nl,[a(`span`,rl,S(i(r)(`download`)),1),a(`span`,il,S(p(i(o).latestTraffic?.down||0))+`/s `,1)])]),a(`div`,al,[a(`div`,ol,[f(i(R),{size:20})]),a(`div`,sl,[a(`span`,cl,S(i(r)(`uploadTotal`)),1),a(`span`,ll,S(p(i(l).latestConnectionMsg?.uploadTotal||0)),1)])]),a(`div`,ul,[a(`div`,dl,[f(i(R),{size:20})]),a(`div`,fl,[a(`span`,pl,S(i(r)(`downloadTotal`)),1),a(`span`,ml,S(p(i(l).latestConnectionMsg?.downloadTotal||0)),1)])]),a(`div`,hl,[a(`div`,gl,[f(i(le),{size:20})]),a(`div`,_l,[a(`span`,vl,S(i(r)(`activeConnections`)),1),a(`span`,yl,S(i(l).latestConnectionMsg?.connections?.length||0),1)])]),a(`div`,bl,[a(`div`,xl,[f(i(L),{size:20})]),a(`div`,Sl,[a(`span`,Cl,S(i(r)(`memoryUsage`)),1),a(`span`,wl,S(p(i(o).latestMemory?.inuse||0)),1)])])]),i(u).currentEndpoint?.url?(E(),s(`div`,Tl,[f(i(pe),{size:18,class:`text-primary`}),a(`span`,El,S(i(r)(`connectedTo`))+`:`,1),a(`span`,Dl,S(i(u).currentEndpoint?.url),1)])):w(``,!0),a(`div`,Ol,[a(`div`,kl,[f(m,{ref_key:`trafficChartRef`,ref:g,title:i(r)(`traffic`),"series-config":i(b),"initial-data":i(C),"is-loading":!i(o).latestTraffic},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),a(`div`,Al,[f(h,{options:i(M),"is-loading":!i(l).latestConnectionMsg?.connections?.length},null,8,[`options`,`is-loading`])]),a(`div`,jl,[f(m,{ref_key:`memoryChartRef`,ref:_,title:i(r)(`memory`),"series-config":i(ee),"initial-data":i(T),"is-loading":!i(o).latestMemory},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),a(`div`,Ml,[f(m,{ref_key:`connectionsChartRef`,ref:v,title:i(r)(`connectionsChart`),"series-config":i(D),"initial-data":i(A),"is-loading":!i(l).latestConnectionMsg?.connections?.length,"value-mode":`number`},null,8,[`title`,`series-config`,`initial-data`,`is-loading`])]),a(`div`,Nl,[f(h,{options:i(P),"is-loading":!i(l).latestConnectionMsg?.connections?.length},null,8,[`options`,`is-loading`])]),a(`div`,Pl,[f(h,{options:i(ne),"is-loading":Object.keys(i(l).speedGroupByName).length===0},null,8,[`options`,`is-loading`])])]),a(`div`,Fl,[f(y),f(x)]),a(`div`,Il,[a(`div`,{class:`flex cursor-pointer items-center justify-between`,onClick:t[0]||=e=>i(d).showNetworkTopology=!i(d).showNetworkTopology},[a(`div`,Ll,[f(i(ce),{size:20}),a(`h3`,null,S(i(r)(`networkTopology`)),1)]),a(`button`,Rl,[f(i(N),{size:20,class:n([`transition-transform duration-300`,{"rotate-180":i(d).showNetworkTopology}])},null,8,[`class`])])]),i(d).showNetworkTopology?(E(),c(O,{key:0,class:`mt-4`})):w(``,!0)]),f(k)])}}});export{zl as default};